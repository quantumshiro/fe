---
source: crates/codegen/tests/yul.rs
expression: output
input_file: tests/fixtures/effect_ptr_domains.fe
---
function bump(foo) {
  let v0 := sload(foo)
  sstore(foo, add(v0, 1))
  let v1 := sload(add(foo, 1))
  sstore(add(foo, 1), add(v1, 2))
  leave
}
function test_effect_ptr_domains() {
  let v0 := 256
  let v1 := v0
  bump__eff_mem(v1)
  let v2 := 0
  let v3 := v2
  bump(v3)
  let v4 := mload(0x40)
  if iszero(v4) {
    v4 := 0x80
  }
  mstore(0x40, add(v4, 64))
  mstore(v4, 10)
  mstore(add(v4, 32), 20)
  let v5 := v4
  let v6 := v5
  bump__eff_mem(v5)
  leave
}
function bump__eff_mem(foo) {
  let v0 := mload(foo)
  mstore(foo, add(v0, 1))
  let v1 := mload(add(foo, 32))
  mstore(add(foo, 32), add(v1, 2))
  leave
}
