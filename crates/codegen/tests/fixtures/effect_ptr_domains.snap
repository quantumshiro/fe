---
source: crates/codegen/tests/yul.rs
expression: output
input_file: tests/fixtures/effect_ptr_domains.fe
---
function bump(foo) {
  store_field__StorPtr_u256__2bec36171fad53de(foo, 0, add(sload(foo), 1))
  store_field__StorPtr_u256__2bec36171fad53de(foo, 1, add(sload(add(foo, 1)), 2))
}
function test_effect_ptr_domains() {
  let v0 := 256
  let v1 := v0
  bump__eff_mem(v1)
  let v2 := 0
  let v3 := v2
  bump(v3)
  let v4 := alloc(64)
  store_field__MemPtr_u256__97fe9178c4597e85(v4, 0, 10)
  store_field__MemPtr_u256__97fe9178c4597e85(v4, 32, 20)
  let v5 := v4
  let v6 := v5
  bump__eff_mem(v5)
}
function store_field__StorPtr_u256__2bec36171fad53de(ptr, offset, value) {
  let v0 := add(ptr, offset)
  store__StorPtr__7f7854645e12e266(v0, to_word__deduped(value))
}
function bump__eff_mem(foo) {
  store_field__MemPtr_u256__97fe9178c4597e85(foo, 0, add(mload(foo), 1))
  store_field__MemPtr_u256__97fe9178c4597e85(foo, 32, add(mload(add(foo, 32)), 2))
}
function alloc(size) -> ret {
  let v0 := mload(64)
  let v1 := eq(v0, 0)
  if v1 {
    v0 := 128
    mstore(64, add(v0, size))
    ret := v0
  }
  if iszero(v1) {
    mstore(64, add(v0, size))
    ret := v0
  }
}
function store_field__MemPtr_u256__97fe9178c4597e85(ptr, offset, value) {
  let v0 := add(ptr, offset)
  store__MemPtr__d0292394fccae3e4(v0, to_word__deduped(value))
}
function to_word__deduped(self) -> ret {
  ret := self
}
function store__StorPtr__7f7854645e12e266(addr, value) {
  sstore(addr, value)
}
function store__MemPtr__d0292394fccae3e4(addr, value) {
  mstore(addr, value)
}
