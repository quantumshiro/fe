---
source: crates/codegen/tests/yul.rs
expression: output
input_file: tests/fixtures/nested_struct.fe
---
object "NestedStruct" {
  code {
    init()
    function init() {
      let v0 := datasize("NestedStruct_deployed")
      let v1 := dataoffset("NestedStruct_deployed")
      codecopy(0, v1, v0)
      return(0, v0)
    }
  }

  object "NestedStruct_deployed" {
    code {
      runtime()
      function abi_encode(value) {
        mstore(0, value)
        return(0, 32)
      }
      function mem_read(value) -> ret {
        let v0 := mload(0x40)
        if iszero(v0) {
          v0 := 0x80
        }
        mstore(0x40, add(v0, 32))
        mstore(v0, 0)
        let v1 := mload(0x40)
        if iszero(v1) {
          v1 := 0x80
        }
        mstore(0x40, add(v1, 32))
        mstore(v1, mload(v0))
        let v2 := v1
        mstore(v2, value)
        ret := mload(v2)
      }
      function read_inner(outer) -> ret {
        ret := sload(outer)
      }
      function runtime() {
        let v0 := 0
        let v1 := v0
        let v2 := shr(224, calldataload(0))
        switch v2
          case 3091856072 {
            let v3 := calldataload(4)
            write_inner(v3, v0)
            abi_encode(v3)
          }
          case 3513050253 {
            abi_encode(read_inner(v0))
          }
          case 2154770637 {
            let v4 := calldataload(4)
            abi_encode(mem_read(v4))
          }
          default {
            return(0, 0)
          }
      }
      function write_inner(value, outer) {
        sstore(outer, value)
      }
    }
  }
}
